```markdown
# üöç TransportCatalogue

**–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã –≤ –≤–∏–¥–µ SVG-—Ñ–∞–π–ª–æ–≤, –∏ –Ω–∞—Ö–æ–¥–∏—Ç –∫—Ä–∞—Ç—á–∞–π—à–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –º–µ–∂–¥—É –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏. –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Google Protobuf.

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SVG-—Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ö–µ–º—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤.
- **–ü–æ–∏—Å–∫ –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞**: –ê–ª–≥–æ—Ä–∏—Ç–º –Ω–∞—Ö–æ–¥–∏—Ç –∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å –º–µ–∂–¥—É –∞–≤—Ç–æ–±—É—Å–Ω—ã–º–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏.
- **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Google Protobuf –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å JSON**: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä JSON –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ (Visual Studio)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Google Protobuf
1. –°–∫–∞—á–∞–π—Ç–µ –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ `protobuf-cpp` —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](https://github.com/protocolbuffers/protobuf).
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫–∏ `build-debug` –∏ `build-release` –¥–ª—è —Å–±–æ—Ä–∫–∏ –¥–≤—É—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π Protobuf. –¢–∞–∫–∂–µ —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `package` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ Protobuf.

### 2. –°–±–æ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Protobuf
–î–ª—è —Å–±–æ—Ä–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Protobuf –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
cmake path\protobuf-3.15.8\cmake -DCMAKE_SYSTEM_VERSION=10.0.17763.0 -DCMAKE_BUILD_TYPE=Debug \ 
-Dprotobuf_BUILD_TESTS=OFF -DCMAKE_INSTALL_PREFIX=path\protobuf-3.15.8\package

cmake --build .
cmake --install .
```

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –≤ –ø–∞–ø–∫–µ `package` –ø–æ—è–≤—è—Ç—Å—è:
- `bin\protoc.exe` ‚Äî –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ `.proto` —Ñ–∞–π–ª–æ–≤
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ –ø–∞–ø–∫–µ `lib`.

### 3. –ö–æ–º–ø–∏–ª—è—Ü–∏—è proto-—Ñ–∞–π–ª–∞
–î–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ proto-—Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
<path_to_protobuf_package>\bin\protoc --cpp_out . transport_catalogue.proto
```

### 4. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å CMake
–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é CMake:

```bash
cmake . -DCMAKE_PREFIX_PATH=/path/to/protobuf/package
cmake --build .
```

–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –¥–æ–±–∞–≤—å—Ç–µ –ø–∞–ø–∫–∏ `include` –∏ `lib` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞: `Additional Include Directories` –∏ `Additional Dependencies`.

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### 1. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –∏ –µ—ë —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
transport_catalogue.exe make_base <base.json>
```

### 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
transport_catalogue.exe process_requests <req.json> >out.txt
```

## üì¶ –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–∏:

```json
{
    "base_requests": [ ... ],
    "render_settings": { ... },
    "routing_settings": { ... },
    "serialization_settings": { ... },
    "stat_requests": [ ... ]
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á–µ–π:
- `base_requests` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∞–≤—Ç–æ–±—É—Å–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫.
- `render_settings` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã.
- `routing_settings` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤.
- `serialization_settings` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∞–∑—ã.

### –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:
```json
{
    "type": "Stop",
    "name": "–≠–ª–µ–∫—Ç—Ä–æ—Å–µ—Ç–∏",
    "latitude": 43.598701,
    "longitude": 39.730623,
    "road_distances": {
        "–£–ª–∏—Ü–∞ –î–æ–∫—É—á–∞–µ–≤–∞": 3000,
        "–£–ª–∏—Ü–∞ –õ–∏–∑—ã –ß–∞–π–∫–∏–Ω–æ–π": 4300
    }
}
```

### –ü—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞:
```json
{
    "type": "Bus",
    "name": "14",
    "stops": [
        "–£–ª–∏—Ü–∞ –õ–∏–∑—ã –ß–∞–π–∫–∏–Ω–æ–π",
        "–≠–ª–µ–∫—Ç—Ä–æ—Å–µ—Ç–∏",
        "–£–ª–∏—Ü–∞ –î–æ–∫—É—á–∞–µ–≤–∞",
        "–£–ª–∏—Ü–∞ –õ–∏–∑—ã –ß–∞–π–∫–∏–Ω–æ–π"
    ],
    "is_roundtrip": true
}
```

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (`render_settings`)
–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ –∫–∞—Ä—Ç—ã:

```json
{
    "width": 1200.0,
    "height": 1200.0,
    "padding": 50.0,
    "line_width": 14.0,
    "stop_radius": 5.0,
    "bus_label_font_size": 20,
    "bus_label_offset": [7.0, 15.0],
    "stop_label_font_size": 20,
    "stop_label_offset": [7.0, -3.0],
    "underlayer_color": [255, 255, 255, 0.85],
    "underlayer_width": 3.0,
    "color_palette": [
        "green",
        [255, 160, 0],
        "red"
    ]
}
```

## üõ§Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (`routing_settings`)
–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏:

```json
{
    "bus_wait_time": 6,
    "bus_velocity": 40
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `bus_wait_time` ‚Äî –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∞–≤—Ç–æ–±—É—Å–∞ –Ω–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ (–≤ –º–∏–Ω—É—Ç–∞—Ö).
- `bus_velocity` ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –∞–≤—Ç–æ–±—É—Å–∞ (–≤ –∫–º/—á).

## üîç –ó–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ó–∞–ø—Ä–æ—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–∞—Ä—à—Ä—É—Ç–µ:
```json
{
    "id": 12345678,
    "type": "Bus",
    "name": "14"
}
```
–û—Ç–≤–µ—Ç:
```json
{
    "curvature": 2.18604,
    "request_id": 12345678,
    "route_length": 9300,
    "stop_count": 4,
    "unique_stop_count": 3
}
```

### –ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –º–µ–∂–¥—É –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏:
```json
{
    "type": "Route",
    "from": "Biryulyovo Zapadnoye",
    "to": "Universam",
    "id": 4
}
```
–û—Ç–≤–µ—Ç:
```json
{
    "items": [
        {
            "stop_name": "Biryulyovo Zapadnoye",
            "time": 6,
            "type": "Wait"
        },
        {
            "bus": "297",
            "span_count": 2,
            "time": 5.235,
            "type": "Bus"
        },
        {
            "stop_name": "Universam",
            "time": 6,
            "type": "Wait"
        }
    ],
    "request_id": 5,
    "total_time": 24.21
}
```

---

‚ú® **TransportCatalogue** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –∏—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∏ —Ä–∞—Å—á—ë—Ç —É–¥–æ–±–Ω—ã–º –∏ –±—ã—Å—Ç—Ä—ã–º.
```
